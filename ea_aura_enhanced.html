<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EA Aura - Enhanced Wellness Hub</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
            padding: 10px;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
            min-height: 100vh;
        }

        .app-container {
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tagline {
            font-size: 1em;
            opacity: 0.9;
        }

        .coin-jar {
            position: absolute;
            top: 15px;
            right: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .coin-jar:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .coin-count {
            font-size: 1.2em;
            font-weight: bold;
        }

        .tab-navigation {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: #666;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-btn:hover {
            background: #e9ecef;
            color: #333;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: #ffffff;
        }

        .tab-content {
            padding: 30px;
            min-height: 500px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* Genie Character Sidebar */
        .genie-sidebar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 20px;
            color: white;
            position: sticky;
            top: 10px;
            height: fit-content;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .genie-character {
            text-align: center;
            margin-bottom: 20px;
        }

        .genie-avatar {
            width: 140px;
            height: 180px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            margin: 0 auto 15px;
            animation: float 3s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            border: 4px solid white;
            overflow: hidden;
        }

        .genie-avatar:hover {
            transform: scale(1.1);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .genie-name {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .genie-role {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .genie-chat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            min-height: 200px;
            max-height: 300px;
            overflow-y: auto;
        }

        .genie-message {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .genie-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 10px 15px;
            color: white;
            outline: none;
            font-size: 0.9em;
        }

        .genie-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Wellness Dashboard Styles */
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .metric-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
            background: none;
            border: none;
            text-align: center;
            color: #333;
            width: 100%;
            outline: none;
        }

        .metric-value:focus {
            background: #ffffff;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 5px;
        }

        .metric-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Games Tab Styles */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .game-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .game-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .game-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .game-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }

        .play-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        /* Wealth Tab Styles */
        .wealth-section {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            color: #333;
        }

        .wealth-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .coin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .coin-stat {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .coin-stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .coin-stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* Help Resources */
        .help-resources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .help-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .help-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .help-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .help-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .help-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }

        .help-link {
            display: inline-block;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .help-link:hover {
            transform: scale(1.05);
        }

        /* Coin Animation */
        .coin-animation {
            position: fixed;
            font-size: 2em;
            color: #ffd700;
            pointer-events: none;
            z-index: 1000;
            animation: coinFly 2s ease-out forwards;
        }

        @keyframes coinFly {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-50px) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .genie-sidebar {
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .tab-navigation {
                flex-wrap: wrap;
            }
            
            .tab-btn {
                min-width: 50%;
            }
            
            .metric-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Main App Container -->
        <div class="app-container">
            <!-- Header with Coin Jar -->
            <div class="header">
                <div class="logo">❤️ EA Aura</div>
                <div class="tagline">Your Enhanced Wellness Hub</div>
                <div class="coin-jar" onclick="animateCoinJar()" title="Your Wellness Coins">
                    <span class="coin-count" id="coinCount">1,247</span>
                    <span style="font-size: 1.5em;">🪙</span>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" onclick="switchTab('wellness')">❤️ Wellness</button>
                <button class="tab-btn" onclick="switchTab('wealth')">🪙 Wealth</button>
                <button class="tab-btn" onclick="switchTab('games')">🎮 Games</button>
                <button class="tab-btn" onclick="switchTab('reports')">📊 Reports</button>
                <button class="tab-btn" onclick="switchTab('help')">❓ Help</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Wellness Tab -->
                <div class="tab-panel active" id="wellness-tab">
                    <h2 style="margin-bottom: 20px;">📈 Your Wellness Dashboard</h2>
                    
                    <div class="metric-grid">
                        <div class="metric-card" onclick="addCoins(10, event)">
                            <input type="text" class="metric-value" id="todaySteps" value="8247" placeholder="Enter steps">
                            <div class="metric-label">Steps Today</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="stepsProgress" style="width: 82%; background: linear-gradient(45deg, #2ecc71, #27ae60);"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="addCoins(15, event)">
                            <input type="text" class="metric-value" id="todaySleep" value="7.2" placeholder="Hours">
                            <div class="metric-label">Sleep Last Night (hours)</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="sleepProgress" style="width: 90%; background: linear-gradient(45deg, #3498db, #2980b9);"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="addCoins(5, event)">
                            <input type="number" class="metric-value" id="todayMood" value="9" min="1" max="10" placeholder="1-10">
                            <div class="metric-label">Mood Score (1-10)</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="moodProgress" style="width: 90%; background: linear-gradient(45deg, #f39c12, #e67e22);"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="addCoins(20, event)">
                            <input type="number" class="metric-value" id="todayFocus" value="145" placeholder="Minutes">
                            <div class="metric-label">Focus Time (minutes)</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="focusProgress" style="width: 72%; background: linear-gradient(45deg, #9b59b6, #8e44ad);"></div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #fff3cd; border-radius: 15px; padding: 20px; border: 1px solid #ffc107; margin-bottom: 20px;">
                        <h3 style="color: #856404; margin-bottom: 10px;">✨ Quote of the Day</h3>
                        <p id="dailyQuote" style="line-height: 1.6; color: #333; font-style: italic; font-size: 1.1em;">
                            "The groundwork for all happiness is good health." - Leigh Hunt
                        </p>
                        <small style="color: #666; font-size: 0.9em;">🔄 Refresh the page for a new inspirational quote!</small>
                    </div>

                    <div style="background: #e8f0ff; border-radius: 15px; padding: 20px; border: 1px solid #667eea;">
                        <h3 style="color: #667eea; margin-bottom: 10px;">🤖 AI Insights</h3>
                        <p id="aiInsight" style="line-height: 1.5; color: #333;">
                            Great job! Your focus time increased 15% this week. Try the Pomodoro technique for even better concentration. Your sleep quality is excellent - keep that bedtime routine! 🎯
                        </p>
                    </div>
                </div>

                <!-- Wealth Tab -->
                <div class="tab-panel" id="wealth-tab">
                    <div class="wealth-section">
                        <div class="wealth-title">💰 Your Wellness Wealth</div>
                        
                        <div class="coin-stats">
                            <div class="coin-stat">
                                <div class="coin-stat-value" id="totalCoins">1,247</div>
                                <div class="coin-stat-label">Total Coins</div>
                            </div>
                            <div class="coin-stat">
                                <div class="coin-stat-value" id="todayCoins">127</div>
                                <div class="coin-stat-label">Earned Today</div>
                            </div>
                            <div class="coin-stat">
                                <div class="coin-stat-value" id="weeklyCoins">843</div>
                                <div class="coin-stat-label">This Week</div>
                            </div>
                            <div class="coin-stat">
                                <div class="coin-stat-value">Level 12</div>
                                <div class="coin-stat-label">Wellness Level</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; border-radius: 15px; padding: 25px; margin-bottom: 20px;">
                        <h3 style="margin-bottom: 15px;">💰 EA Financial Wellness Template</h3>
                        <p style="margin-bottom: 15px; color: #666;">Download our comprehensive financial planning template designed for EA employees:</p>
                        
                        <div style="background: #e8f5e8; border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                            <h4 style="color: #28a745; margin-bottom: 10px;">"Š What's Inside:</h4>
                            <div style="color: #333; line-height: 1.6;">
                                <p><strong>Sheet 1 â€" Wealth Summary</strong></p>
                                <ul style="margin: 10px 0 15px 20px;">
                                    <li>Categories: Expense, Savings, Investments, Insurance (Health & Term)</li>
                                    <li>Suggested allocation percentages (50/20/20/10 split)</li>
                                    <li>Tips for tracking, reducing costs, and planning coverage</li>
                                </ul>
                                
                                <p><strong>Sheet 2 â€"  Financial Health Tips</strong></p>
                                <ul style="margin: 10px 0 0 20px;">
                                    <li>7 actionable rules for maintaining financial wellness</li>
                                    <li>The 50-30-20 budgeting principle</li>
                                    <li>Building a 6-month emergency fund</li>
                                    <li>Regular SIPs and portfolio rebalancing</li>
                                    <li>Insurance and debt management best practices</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="play-button" onclick="downloadFinancialTemplate()" style="background: linear-gradient(45deg, #28a745, #20c997);">
                                "Š  Download CSV Template
                            </button>
                            <button class="play-button" onclick="downloadExcelTemplate()" style="background: linear-gradient(45deg, #007acc, #0099cc);">
                                "ˆ  Download Excel File
                            </button>
                        </div>
                    </div>

                    <!--  Financial Health Tips Section -->
                    <div style="background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%); border-radius: 15px; padding: 25px; margin-bottom: 20px; border: 2px solid #28a745;">
                        <h3 style="color: #28a745; margin-bottom: 20px; text-align: center;">'¡  Financial Health Tips & Best Practices</h3>
                        
                        <!--  General Usage Tips -->
                        <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h4 style="color: #2e7d32; margin-bottom: 15px;">💡 General Usage Tips</h4>
                            
                            <div style="margin-bottom: 15px;">
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">1. Keep Data Entry Consistent</h5>
                                <ul style="color: #333; line-height: 1.6; margin-left: 20px;">
                                    <li>Enter numbers only (no commas or symbols) in numeric fields</li>
                                    <li>Use consistent naming for categories (e.g., "Rent" instead of "house rent")</li>
                                    <li>Avoid merging cells â€" it breaks formulas and charts</li>
                                </ul>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">2. Use Drop-downs or Data Validation (Optional)</h5>
                                <ul style="color: #333; line-height: 1.6; margin-left: 20px;">
                                    <li>Add data validation for expense/income categories to prevent typos</li>
                                    <li>This ensures consistent reporting and chart updates</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">3. Keep One Purpose per Sheet</h5>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-left: 20px;">
                                    <div style="background: #e8f5e8; padding: 8px; border-radius: 6px; font-size: 0.9rem;">
                                        <strong>Income:</strong> All income streams
                                    </div>
                                    <div style="background: #fff3e0; padding: 8px; border-radius: 6px; font-size: 0.9rem;">
                                        <strong>Expenses:</strong> Fixed + variable costs
                                    </div>
                                    <div style="background: #e3f2fd; padding: 8px; border-radius: 6px; font-size: 0.9rem;">
                                        <strong>Investments:</strong> SIPs, mutual funds
                                    </div>
                                    <div style="background: #f3e5f5; padding: 8px; border-radius: 6px; font-size: 0.9rem;">
                                        <strong>Planning:</strong> Future projections
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Visualization & Dashboard Tips -->
                        <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h4 style="color: #2e7d32; margin-bottom: 15px;">📊 Visualization & Dashboard Tips</h4>
                            
                            <div style="margin-bottom: 15px;">
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">1. Charts Update Automatically</h5>
                                <ul style="color: #333; line-height: 1.6; margin-left: 20px;">
                                    <li>When you add or edit rows, charts will update within the existing range</li>
                                    <li>To extend: right-click â†' Select Data â†' adjust data range</li>
                                </ul>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">2. Highlight Key Insights</h5>
                                <ul style="color: #333; line-height: 1.6; margin-left: 20px;">
                                    <li>Use conditional formatting (Home â†' Conditional Formatting)</li>
                                    <li>Green for positive cash flow, red for overspending</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 style="color: #1b5e20; margin-bottom: 8px;">3. Add a Summary Dashboard</h5>
                                <ul style="color: #333; line-height: 1.6; margin-left: 20px;">
                                    <li>Combine total income, expenses, net savings in one sheet</li>
                                    <li>Use formulas like <code style="background: #f5f5f5; padding: 2px 4px; border-radius: 3px;">=SUM(B2:B10)</code> for automatic updates</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Maintenance & Backup Tips -->
                        <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h4 style="color: #2e7d32; margin-bottom: 15px;">🔧 Maintenance & Backup</h4>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                <div>
                                    <h5 style="color: #1b5e20; margin-bottom: 8px;">1. Version Control</h5>
                                    <p style="color: #333; margin: 0; font-size: 0.9rem;">Keep dated copies (e.g., "Financial_Plan_Nov2025.xlsx") to track progress over time.</p>
                                </div>
                                
                                <div>
                                    <h5 style="color: #1b5e20; margin-bottom: 8px;">2. Protect Key Sheets</h5>
                                    <p style="color: #333; margin: 0; font-size: 0.9rem;">Lock formula cells (Review â†' Protect Sheet) to prevent accidental edits.</p>
                                </div>
                                
                                <div>
                                    <h5 style="color: #1b5e20; margin-bottom: 8px;">3. Backup Regularly</h5>
                                    <p style="color: #333; margin: 0; font-size: 0.9rem;">Save on cloud storage or external drive for safety and accessibility.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Reference Card -->
                        <div style="background: #1b5e20; color: white; border-radius: 12px; padding: 15px; text-align: center;">
                            <h5 style="margin-bottom: 10px; color: #4caf50;">🚀 Quick Start Checklist</h5>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; font-size: 0.9rem;">
                                <div>âœ… Download template</div>
                                <div>âœ… Set up categories</div>
                                <div>âœ… Enter initial data</div>
                                <div>âœ… Create dashboard</div>
                                <div>âœ… Set up backups</div>
                                <div>âœ… Review monthly</div>
                            </div>
                        </div>
                    </div>

                    <h3>† Recent Achievements</h3>
                    <div class="help-resources">
                        <div class="help-card">
                            <div class="help-icon">🏃‍♂️</div>
                            <div class="help-title">Step Master</div>
                            <div class="help-description">Completed 10,000 steps for 7 consecutive days</div>
                            <div style="color: #28a745; font-weight: bold;">+200 Coins</div>
                        </div>
                        <div class="help-card">
                            <div class="help-icon">§˜â€â™€ï¸</div>
                            <div class="help-title">Mindful Week</div>
                            <div class="help-description">Meditated daily for an entire week</div>
                            <div style="color: #28a745; font-weight: bold;">+150 Coins</div>
                        </div>
                    </div>
                </div>

                <!-- Games Tab -->
                <div class="tab-panel" id="games-tab">
                    <h2 style="margin-bottom: 20px;">🎮 Web Wellness Games</h2>
                    
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <h3 style="color: #4CAF50; margin-bottom: 15px;">🚀 New: Browser-Based Games!</h3>
                        <p style="margin: 0; color: #333; font-size: 1.1rem;">
                            <strong>No Python installation required!</strong> All games now run directly in your web browser. 
                            Play instantly on any device - desktop, tablet, or mobile.
                        </p>
                    </div>
                    
                    <div class="games-grid">
                        <div class="game-card">
                            <div class="game-icon">🌱</div>
                            <div class="game-title">Wellness Snake</div>
                            <div class="game-description">Focus training with breathing exercises. Classic gameplay enhanced with mindfulness features.</div>
                            <button class="play-button" onclick="openWebGame('games/wellness_snake.html')">
                                ▶️ Play Focus Training
                            </button>
                        </div>
                        
                        <div class="game-card">
                            <div class="game-icon">🧠</div>
                            <div class="game-title">Memory Cards</div>
                            <div class="game-description">Cognitive enhancement through memory matching. Multiple difficulty levels with streak bonuses.</div>
                            <button class="play-button" onclick="openWebGame('games/memory_cards.html')">
                                ▶️ Enhance Memory
                            </button>
                        </div>
                        
                        <div class="game-card">
                            <div class="game-icon">🧩</div>
                            <div class="game-title">Sudoku</div>
                            <div class="game-description">Logic and problem-solving challenges. Features hint system and multiple difficulty levels.</div>
                            <button class="play-button" onclick="openWebGame('games/sudoku_puzzle.html')">
                                ▶️ Solve Puzzles
                            </button>
                        </div>
                        
                        <div class="game-card">
                            <div class="game-icon">🌸</div>
                            <div class="game-title">Zen Garden</div>
                            <div class="game-description">Digital meditation through mindful raking. Includes breathing exercises and relaxation features.</div>
                            <button class="play-button" onclick="openWebGame('games/zen_garden.html')">
                                ▶️ Find Peace
                            </button>
                        </div>
                        
                        <div class="game-card">
                            <div class="game-icon"><i class="fas fa-rocket" style="color: #667eea;"></i></div>
                            <div class="game-title">Game Launcher Hub</div>
                            <div class="game-description">Access all games in one place with progress tracking and detailed wellness benefits.</div>
                            <button class="play-button" onclick="openWebGame('games/index.html')" style="background: linear-gradient(45deg, #667eea, #764ba2);">
                                <i class="fas fa-rocket"></i> Launch Game Hub
                            </button>
                        </div>
                        
                        <div style="grid-column: 1 / -1; background: #e8f5e8; padding: 20px; border-radius: 15px; margin-top: 25px; text-align: center;">
                            <h4 style="color: #2e7d32; margin-bottom: 15px;"><i class="fas fa-info-circle"></i> Game Features</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; text-align: left;">
                                <div><strong>🌐 Browser-Based:</strong> No downloads required</div>
                                <div><strong>📱 Mobile-Friendly:</strong> Works on all devices</div>
                                <div><strong>🪙 Coin Integration:</strong> Earn wellness coins</div>
                                <div><strong>🧘 Mindfulness:</strong> Built-in breathing exercises</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports Tab -->
                <div class="tab-panel" id="reports-tab">
                    <h2 style="margin-bottom: 20px;"><i class="fas fa-chart-bar"></i> Reports & Data</h2>
                    
                    <div style="background: #f8f9fa; border-radius: 15px; padding: 25px; margin-bottom: 20px;">
                        <h3 style="margin-bottom: 15px;">"ˆ Export Your Data</h3>
                        <p style="margin-bottom: 15px; color: #666;">Download your wellness data in various formats for personal tracking or sharing with healthcare providers.</p>
                        
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <div>
                                <label for="dayCount" style="margin-right: 10px;">Days to export:</label>
                                <input type="number" id="dayCount" value="30" min="7" max="365" style="width: 80px; padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
                            </div>
                            <button class="play-button" onclick="downloadCSV()">"Š Download CSV</button>
                            <button class="play-button" onclick="downloadPDF()">"„ Download PDF Report</button>
                            <button class="play-button" onclick="downloadJSON()">'¾ Download JSON</button>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <div style="background: #f8f9fa; border-radius: 15px; padding: 20px;">
                            <h4 style="margin-bottom: 15px;"><i class="fas fa-chart-line"></i> Weekly Summary</h4>
                            <div style="color: #666; line-height: 1.6;">
                                <p>🚶‍♂️ Average Steps: 8,234/day</p>
                                <p>😴 Average Sleep: 7.3 hours</p>
                                <p>😊 Average Mood: 8.2/10</p>
                                <p>🎯 Total Focus Time: 18.5 hours</p>
                                <p>🪙 Coins Earned: 843</p>
                            </div>
                        </div>
                        
                        <div style="background: #f8f9fa; border-radius: 15px; padding: 20px;">
                            <h4 style="margin-bottom: 15px;"><i class="fas fa-target"></i> Goals Progress</h4>
                            <div style="color: #666; line-height: 1.6;">
                                <p>• Daily Steps: 8/7 days ✅</p>
                                <p>• Sleep 7+ hours: 6/7 days ✅</p>
                                <p>• Mood 7+: 7/7 days ✅</p>
                                <p>• Focus 2+ hours: 5/7 days ⚠️</p>
                                <p>• Weekly Streak: 3 weeks 🔥</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Help Tab -->
                <div class="tab-panel" id="help-tab">
                    <h2 style="margin-bottom: 20px;"><i class="fas fa-question-circle"></i> Help & Resources</h2>
                    
                    <div class="help-resources">
                        <div class="help-card">
                            <div class="help-icon"><i class="fas fa-user-md"></i></div>
                            <div class="help-title">Modern Health</div>
                            <div class="help-description">Access professional mental health support, coaching, and wellness resources tailored for EA employees.</div>
                            <a href="https://www.modernhealth.com/" target="_blank" class="help-link">Visit Modern Health</a>
                        </div>
                        
                        <div class="help-card">
                            <div class="help-icon"><i class="fas fa-apple-alt"></i></div>
                            <div class="help-title">Food Book</div>
                            <div class="help-description">Comprehensive nutrition guidance, meal planning, and healthy eating tips for optimal performance.</div>
                            <a href="https://play.google.com/store/apps/details?id=com.thesmartq.compass.foodbook&hl=en_IN" target="_blank" class="help-link">Get Food Book</a>
                        </div>
                        
                        <div class="help-card">
                            <div class="help-icon"><i class="fas fa-headset"></i></div>
                            <div class="help-title">EA Employee Assistance</div>
                            <div class="help-description">24/7 confidential support for work-life balance, stress management, and personal challenges.</div>
                            <a href="#" class="help-link">Contact EAP</a>
                        </div>
                        
                        <div class="help-card">
                            <div class="help-icon"><i class="fas fa-dumbbell"></i></div>
                            <div class="help-title">Fitness Resources</div>
                            <div class="help-description">Exercise routines, ergonomic tips, and movement strategies designed for game developers.</div>
                            <a href="#" class="help-link">View Fitness Guide</a>
                        </div>
                    </div>

                    <div style="background: #e8f0ff; border-radius: 15px; padding: 20px; margin-top: 20px;">
                        <h3 style="color: #667eea; margin-bottom: 15px;"><i class="fas fa-info-circle"></i> How to Use EA Aura Enhanced</h3>
                        <div style="color: #333; line-height: 1.6;">
                            <p><strong><i class="fas fa-heartbeat"></i> Wellness Tab:</strong> Track your daily metrics and earn coins for staying healthy!</p>
                            <p><strong><i class="fas fa-coins"></i> Wealth Tab:</strong> View your wellness coins and achievements</p>
                            <p><strong><i class="fas fa-gamepad"></i> Games Tab:</strong> Play web-based wellness games that boost cognitive health</p>
                            <p><strong><i class="fas fa-chart-bar"></i> Reports Tab:</strong> Export and analyze your wellness data</p>
                            <p><strong><i class="fas fa-robot"></i> Aura AI Assistant:</strong> Voice-enabled AI coach with personalized wellness advice</p>
                        </div>
                    </div>
                    
                    <div style="background: #f0f8ff; border-radius: 15px; padding: 20px; margin-top: 20px;">
                        <h3 style="color: #4169e1; margin-bottom: 15px;"><i class="fas fa-volume-up"></i> Aura Voice Settings</h3>
                        <div style="color: #333; line-height: 1.6;">
                            <h4 style="color: #1e3a8a; margin: 15px 0 10px 0;"><i class="fas fa-microphone"></i> Voice Options</h4>
                            <div style="display: flex; gap: 15px; margin-bottom: 15px; flex-wrap: wrap;">
                                <button onclick="setAuraVoice('female')" 
                                        style="background: #ec4899; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px;">
                                    <i class="fas fa-female"></i> Female Voice
                                </button>
                                <button onclick="setAuraVoice('male')" 
                                        style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px;">
                                    <i class="fas fa-male"></i> Male Voice
                                </button>
                                <button onclick="setAuraVoice('neutral')" 
                                        style="background: #6b7280; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px;">
                                    <i class="fas fa-robot"></i> Neutral AI
                                </button>
                            </div>
                            
                            <h4 style="color: #1e3a8a; margin: 15px 0 10px 0;"><i class="fas fa-sliders-h"></i> Voice Controls</h4>
                            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <button onclick="toggleAuraVoice()" 
                                        style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px;">
                                    <i class="fas fa-power-off"></i> Toggle Voice On/Off
                                </button>
                                <button onclick="testAuraVoiceInApp()" 
                                        style="background: #f59e0b; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px;">
                                    <i class="fas fa-play-circle"></i> Test Voice
                                </button>
                            </div>
                            
                            <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                                <i class="fas fa-info-circle"></i> Aura will speak responses when you interact with wellness metrics, games, and chat messages.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aura AI Assistant Sidebar -->
        <div class="genie-sidebar">
            <div class="genie-character">
                <div class="genie-avatar" onclick="interactWithAura()">
                    <img src="Aura_Image.png" alt="Aura AI Assistant" style="width: 100%; height: 100%; object-fit: contain; border-radius: 16px;" onerror="this.outerHTML='&lt;div style=&quot;color: #667eea; font-size: 2rem; text-align: center; line-height: 1.2;&quot;&gt;AI&lt;br&gt;AURA&lt;/div&gt;';">
                </div>
                <div class="genie-name" id="genieName">Aura</div>
                <div class="genie-role">Your AI Wellness Assistant</div>
            </div>

            <div class="genie-chat" id="genieChat">
                <div class="genie-message">
                    🤖 Hello! I'm Aura, your AI wellness assistant. I've been trained on the EA Coaching Pillars to provide personalized wellness guidance. Click on any wellness metric to earn coins! 🪙
                </div>
                <div class="genie-message">
                    <i class="fas fa-question-circle"></i> I can help with goal setting, stress management, focus techniques, web gaming guidance, and much more. What would you like to explore today?
                </div>
                <div class="genie-message">
                    Ž™ï¸ Tip: I can speak my responses! Try asking me something and I'll respond with voice feedback based on your selected voice preference.
                </div>
            </div>

            <input type="text" class="genie-input" id="genieInput" placeholder="Ask Aura anything about wellness..." onkeypress="handleGenieInput(event)">
        </div>
    </div>

    <script>
        let currentCoins = 1247;
        let todayCoins = 127;
        let weeklyCoins = 843;

        // Daily inspirational quotes for wellness
        const dailyQuotes = [
            "The groundwork for all happiness is good health. - Leigh Hunt",
            "To keep the body in good health is a duty... otherwise we shall not be able to keep our mind strong and clear. - Buddha",
            "Health is not about the weight you lose, but about the life you gain. - Dr. Josh Axe",
            "Take care of your body. It's the only place you have to live. - Jim Rohn",
            "A healthy outside starts from the inside. - Robert Urich",
            "The greatest wealth is health. - Virgil",
            "Your body can stand almost anything. It's your mind that you have to convince. - Unknown",
            "Wellness is the complete integration of body, mind, and spirit. - Greg Anderson",
            "The first wealth is health. - Ralph Waldo Emerson",
            "Happiness is the highest form of health. - Dalai Lama",
            "Health is a state of complete harmony of the body, mind and spirit. - B.K.S. Iyengar",
            "Prevention is better than cure. - Desiderius Erasmus",
            "Early to bed and early to rise makes a man healthy, wealthy, and wise. - Benjamin Franklin",
            "Exercise is king. Nutrition is queen. Put them together and you've got a kingdom. - Jack LaLanne",
            "The doctor of the future will give no medicines, but will interest his patients in the care of the human frame, in diet, and in the cause and prevention of disease. - Thomas Edison"
        ];

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab panels
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab panel
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Add active class to clicked tab button
            event.target.classList.add('active');
        }

        // Coin system functionality
        function addCoins(amount, event) {
            currentCoins += amount;
            todayCoins += amount;
            weeklyCoins += amount;
            
            // Update displays
            document.getElementById('coinCount').textContent = currentCoins.toLocaleString();
            document.getElementById('totalCoins').textContent = currentCoins.toLocaleString();
            document.getElementById('todayCoins').textContent = todayCoins;
            document.getElementById('weeklyCoins').textContent = weeklyCoins;
            
            // Play coin sound
            playCoinSound();
            
            // Animate coin
            animateCoin(event);
            
            // Update genie message
            updateGenieMessage('Ž‰ Great job! You earned ' + amount + ' coins! Keep up the excellent wellness work!');
        }

        function playCoinSound() {
            // Create a simple coin sound using Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(1200, audioContext.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        function animateCoin(event) {
            const coinElement = document.createElement('div');
            coinElement.textContent = 'ª™';
            coinElement.className = 'coin-animation';
            coinElement.style.left = event.pageX + 'px';
            coinElement.style.top = event.pageY + 'px';
            
            document.body.appendChild(coinElement);
            
            setTimeout(() => {
                document.body.removeChild(coinElement);
            }, 2000);
        }

        function animateCoinJar() {
            const jar = document.querySelector('.coin-jar');
            jar.style.animation = 'none';
            setTimeout(() => {
                jar.style.animation = 'float 0.5s ease-in-out';
            }, 10);
            
            playCoinSound();
        }

        // Aura AI interaction
        function interactWithAura() {
            const messages = [
                "🎯 Ready to optimize your wellness? Try updating your daily metrics!",
                "🧠 I've analyzed your focus time - it's excellent today! Maintain this momentum!",
                "🚀 Remember: consistent micro-habits create exponential wellness improvements!",
                "⭐ You're performing exceptionally! Each wellness action optimizes your coin rewards!",
                "🧘 Processing recommendation: Take three deep breaths. Wellness is an algorithmic journey of continuous improvement.",
                "🎮 Have you tried our web-based wellness games? They're excellent for cognitive enhancement!",
                "🔊 Would you like me to provide voice guidance for your wellness activities?"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            updateAuraMessage(randomMessage);
            
            // Speak the message if voice is enabled
            speakAuraMessage(randomMessage);
            
            // Animate genie
            const avatar = document.querySelector('.genie-avatar');
            avatar.style.transform = 'scale(1.2)';
            setTimeout(() => {
                avatar.style.transform = 'scale(1)';
            }, 300);
        }

        function updateAuraMessage(message) {
            const chatContainer = document.getElementById('genieChat');
            const messageElement = document.createElement('div');
            messageElement.className = 'genie-message';
            messageElement.textContent = message;
            
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            // Keep only last 5 messages
            const messages = chatContainer.querySelectorAll('.genie-message');
            if (messages.length > 5) {
                chatContainer.removeChild(messages[0]);
            }
        }

        // Voice functionality for Aura
        let auraVoiceEnabled = true;
        let selectedAuraVoice = 'female';

        function speakAuraMessage(message) {
            if (!auraVoiceEnabled || !('speechSynthesis' in window)) return;
            
            // Clean message of emojis for better speech
            const cleanMessage = message.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu, '');
            
            speechSynthesis.cancel(); // Stop any current speech
            
            const utterance = new SpeechSynthesisUtterance(cleanMessage);
            const voices = speechSynthesis.getVoices();
            
            // Select voice based on preference
            if (selectedAuraVoice === 'female') {
                utterance.voice = voices.find(voice => voice.name.toLowerCase().includes('female') || 
                                                      voice.name.toLowerCase().includes('zira')) || voices[0];
                utterance.pitch = 1.1;
            } else if (selectedAuraVoice === 'male') {
                utterance.voice = voices.find(voice => voice.name.toLowerCase().includes('male') || 
                                                      voice.name.toLowerCase().includes('david')) || voices[1] || voices[0];
                utterance.pitch = 0.9;
            } else {
                utterance.voice = voices[0];
                utterance.pitch = 1.0;
            }
            
            utterance.rate = 0.9;
                utterance.volume = 0.7;
                
                speechSynthesis.speak(utterance);
            }
    
            function toggleAuraVoice() {
                auraVoiceEnabled = !auraVoiceEnabled;
                const status = auraVoiceEnabled ? 'enabled' : 'disabled';
                updateAuraMessage(`🔊 Voice feedback ${status}. ${auraVoiceEnabled ? 'I will now speak my responses!' : 'I will only show text responses.'}`);
            }

            function setAuraVoice(voiceType) {
                selectedAuraVoice = voiceType;
                updateAuraMessage(`🎤 Voice changed to ${voiceType}. Hello! This is how I sound now.`);
                speakAuraMessage(`Voice changed to ${voiceType}. Hello! This is how I sound now.`);
            }

            // Test function for voice in the app
            function testAuraVoiceInApp() {
                const testMessage = "Hello! I'm Aura, your AI wellness assistant. I'm ready to help you achieve your wellness goals through personalized guidance and support.";
                updateAuraMessage("🔊 Testing voice... " + testMessage);
                speakAuraMessage(testMessage);
        }

        // Maintain backward compatibility
        function updateGenieMessage(message) {
            updateAuraMessage(message);
            speakAuraMessage(message);
        }

        function handleGenieInput(event) {
            if (event.key === 'Enter') {
                const input = document.getElementById('genieInput');
                const userMessage = input.value.trim();
                
                if (userMessage) {
                    // Add user message
                    const chatContainer = document.getElementById('genieChat');
                    const userMsgElement = document.createElement('div');
                    userMsgElement.className = 'genie-message';
                    userMsgElement.style.background = 'rgba(255, 255, 255, 0.3)';
                    userMsgElement.textContent = 'You: ' + userMessage;
                    chatContainer.appendChild(userMsgElement);
                    
                    // Generate genie response based on AI Coaching Pillars
                    const response = generateGenieResponse(userMessage);
                    setTimeout(() => {
                        updateGenieMessage(response);
                    }, 1000);
                    
                    input.value = '';
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                }
            }
        }

        function generateGenieResponse(userInput) {
            const lowerInput = userInput.toLowerCase();
            
            // Based on AI_Coaching_Pillars_Guide.md
            if (lowerInput.includes('stress') || lowerInput.includes('anxious')) {
                return "🧘 I understand you're feeling stressed. Try the 4-7-8 breathing technique: inhale for 4 counts, hold for 7, exhale for 8. This activates your parasympathetic nervous system for instant calm.";
            } else if (lowerInput.includes('sleep') || lowerInput.includes('tired')) {
                return "😴 Sleep is crucial for recovery! Aim for 7-9 hours. Try creating a wind-down ritual: dim lights 1 hour before bed, no screens 30 minutes prior, and practice gratitude breathing.";
            } else if (lowerInput.includes('focus') || lowerInput.includes('concentrate')) {
                return "🎯 Let's optimize your focus! Try the Pomodoro Technique: 25-minute deep work blocks with 5-minute breaks. Eliminate distractions and single-task for better quality output.";
            } else if (lowerInput.includes('exercise') || lowerInput.includes('movement')) {
                return "🏃 Movement is medicine! Aim for 8,000-10,000 steps daily. For game developers, take desk breaks every 30 minutes and try the 20-20-20 rule for eye health.";
            } else if (lowerInput.includes('goal') || lowerInput.includes('motivation')) {
                return "🎯 Let's set SMART goals! Make them Specific, Measurable, Achievable, Relevant, and Time-bound. Break big goals into daily actions and celebrate small wins!";
            } else if (lowerInput.includes('food') || lowerInput.includes('nutrition')) {
                return "🥗 Fuel your body right! Aim for 50% vegetables/fruits, 25% lean proteins, 25% whole grains. Stay hydrated with 8-10 glasses of water daily!";
            } else {
                const genericResponses = [
                    "✨ That's a great question! Remember, wellness is about small, consistent actions that compound over time.",
                    "🌟 I'm here to support your wellness journey! What specific area would you like to focus on - physical, mental, productivity, social, or purpose?",
                    "💪 Every step you take towards wellness is valuable. Which of the five pillars resonates most with you right now?",
                    "🎯 Your wellness journey is unique to you. What feels most important for your well-being today?"
                ];
                return genericResponses[Math.floor(Math.random() * genericResponses.length)];
            }
        }

        // Game functions
        function openSnakeGame() {
            updateGenieMessage("🐍 Snake game coming up! This classic game improves focus and reaction time. Great for cognitive wellness!");
            addCoins(50, event);
            openWebGame('games/wellness_snake.html');
        }

        // Web Game Integration Function
        function openWebGame(gameUrl) {
            const gameName = gameUrl.includes('snake') ? 'Wellness Snake' :
                           gameUrl.includes('memory') ? 'Memory Cards' :
                           gameUrl.includes('sudoku') ? 'Sudoku Puzzle' :
                           gameUrl.includes('zen') ? 'Zen Garden' :
                           gameUrl.includes('index') ? 'Game Hub' : 'Wellness Game';
            
            const messages = {
                'Wellness Snake': "🐍 Snake game coming up! This classic game improves focus and reaction time. Great for cognitive wellness!",
                'Memory Cards': "🧠 Memory games are fantastic for cognitive health! They strengthen neural pathways and improve concentration.",
                'Sudoku Puzzle': "🧩 Sudoku is excellent for logical thinking and mental clarity. Perfect for developers!",
                'Zen Garden': "🌸 Zen garden creation is perfect for mindfulness and stress reduction. Let creativity flow!",
                'Game Hub': "🎮 Access all wellness games in one convenient hub with progress tracking!"
            };
            
            updateGenieMessage(messages[gameName] || "🎯 Enjoy this wellness game for better mental health!");
            
            // Open game in new window
            const gameWindow = window.open(gameUrl, '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
            
            if (gameWindow) {
                // Listen for coin messages from games
                window.addEventListener('message', function(event) {
                    if (event.data && event.data.type === 'addCoins') {
                        addCoins(event.data.amount, null);
                        updateGenieMessage(`🪙 Great job! You earned ${event.data.amount} wellness coins from ${gameName}!`);
                    }
                });
                
                gameWindow.focus();
            } else {
                alert('Please allow popups to play the games, or navigate to: ' + gameUrl);
            }
        }

        // Data export functions
        function downloadCSV() {
            const days = parseInt(document.getElementById('dayCount').value) || 30;
            const csvData = generateSampleData(days);
            downloadFile(csvData, 'ea_aura_wellness_data_' + days + 'days.csv', 'text/csv');
            addCoins(20, event);
            updateGenieMessage('📊 Great! Downloaded ' + days + ' days of wellness data. Regular tracking helps identify patterns and progress!');
        }

        function downloadPDF() {
            updateGenieMessage("📄 PDF report feature coming soon! This will include comprehensive wellness analytics and insights.");
            addCoins(15, event);
        }

        function downloadJSON() {
            const data = {
                exportDate: new Date().toISOString(),
                user: "EA Employee",
                wellness_data: {
                    current_metrics: {
                        steps: parseInt(document.getElementById('todaySteps').value),
                        sleep: parseFloat(document.getElementById('todaySleep').value),
                        mood: parseInt(document.getElementById('todayMood').value),
                        focus: parseInt(document.getElementById('todayFocus').value)
                    },
                    coins: {
                        total: currentCoins,
                        today: todayCoins,
                        weekly: weeklyCoins
                    }
                }
            };
            
            downloadFile(JSON.stringify(data, null, 2), 'ea_aura_data_' + new Date().toISOString().split('T')[0] + '.json', 'application/json');
            addCoins(25, event);
            updateGenieMessage("📊 JSON data exported! Perfect for developers who want to integrate with other tools and apps.");
        }

        function generateSampleData(days) {
            let csv = 'Date,Steps,Sleep_Hours,Mood_Score,Stress_Level,Focus_Minutes,Coins_Earned,Gratitude_Entries,Water_Glasses,Exercise_Minutes,Screen_Time_Hours,Meditation_Minutes\n';
            
            const today = new Date();
            for (let i = days - 1; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                
                const steps = Math.floor(Math.random() * 5000) + 5000;
                const sleep = (Math.random() * 3 + 6).toFixed(1);
                const mood = Math.floor(Math.random() * 3) + 8;
                const stress = Math.floor(Math.random() * 4) + 1;
                const focus = Math.floor(Math.random() * 120) + 60;
                const coins = Math.floor(Math.random() * 100) + 50;
                const gratitude = Math.floor(Math.random() * 4);
                const water = Math.floor(Math.random() * 4) + 6;
                const exercise = Math.floor(Math.random() * 60) + 20;
                const screenTime = (Math.random() * 4 + 4).toFixed(1);
                const meditation = Math.floor(Math.random() * 20) + 5;
                
                csv += date.toISOString().split('T')[0] + ',' + steps + ',' + sleep + ',' + mood + ',' + stress + ',' + focus + ',' + coins + ',' + gratitude + ',' + water + ',' + exercise + ',' + screenTime + ',' + meditation + '\n';
            }
            
            return csv;
        }

        function downloadFile(content, filename, contentType) {
            const blob = new Blob([content], { type: contentType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function downloadFinancialTemplate() {
            // Create Excel-compatible CSV content
            const csvContent = ` EA Financial Wellness Template - Wealth Summary

Category,Suggested %,Monthly Budget,Actual Amount,Notes
Living Expenses,50%,$2500,,Rent/Mortgage Housing Utilities Food Transportation
Savings,20%,$1000,,Emergency Fund (6 months) Short-term Goals
Investments,20%,$1000,,401k/RRSP Stocks/ETFs Real Estate
Insurance,10%,$500,,Health Insurance Term Life Insurance Disability Insurance

FINANCIAL ALLOCATION GUIDE:
50% - Essential Living Expenses
- Housing (rent/mortgage): 25-30% of income
- Food & groceries: 10-15% of income  
- Transportation: 10-15% of income
- Utilities & bills: 5-10% of income

20% - Savings & Emergency Fund
- Build 6-month emergency fund first
- High-yield savings account recommended
- Automate transfers for consistency

20% - Investments & Retirement
- Maximize employer 401k match
- Consider low-cost index funds
- Diversify across asset classes
- Regular monthly SIPs

10% - Insurance & Protection
- Health insurance (if not employer-covered)
- Term life insurance (10x annual income)
- Disability insurance consideration

,,,,
FINANCIAL HEALTH TIPS,,,,

Rule 1: Follow the 50-30-20 Budget,,,,
"50% needs 30% wants 20% savings/debt repayment",,,,

Rule 2: Build Emergency Fund First,,,,
"Aim for 6 months of expenses in high-yield savings",,,,

Rule 3: Automate Your Finances,,,,
"Set up automatic transfers and bill payments",,,,

Rule 4: Invest Consistently,,,,
"Dollar-cost averaging through regular SIPs",,,,

Rule 5: Rebalance Portfolio Quarterly,,,,
"Maintain target asset allocation percentages",,,,

Rule 6: Review Insurance Annually,,,,
"Update coverage based on life changes",,,,

Rule 7: Track Net Worth Monthly,,,,
"Assets minus liabilities = growing wealth",,,,

,,,,
EA EMPLOYEE SPECIFIC TIPS:,,,,
- Maximize EA 401k matching program,,,,
- Use EA Employee Stock Purchase Plan wisely,,,,
- Take advantage of EA wellness benefits,,,,
- Consider EA financial counseling services,,,,
- Plan for gaming industry income volatility,,,,

Generated by EA Aura Wellness Hub,,,,`;

            downloadFile(csvContent, 'EA_Financial_Wellness_Template.csv', 'text/csv');
            addCoins(30, event);
            updateGenieMessage("📊 Excellent! Downloaded your EA Financial Wellness Template. This comprehensive guide will help you achieve financial wellness with the proven 50/20/20/10 allocation strategy!");
        }

        function downloadExcelTemplate() {
            // Show information modal for the comprehensive Excel file
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); display: flex; justify-content: center;
                align-items: center; z-index: 1000; padding: 20px; box-sizing: border-box;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 20px; max-width: 700px; max-height: 90vh; overflow-y: auto; position: relative;">
                    <button onclick="document.body.removeChild(this.parentElement.parentElement)" 
                            style="position: absolute; top: 15px; right: 15px; background: #f44336; color: white; 
                                   border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 16px;">Ã—</button>
                    
                    <h2 style="color: #28a745; margin-bottom: 20px; text-align: center;">“ˆ EA Aura Financial Health Excel File</h2>
                    
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">“Š Complete Excel Workbook Features:</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9rem;">
                            <div>âœ… Income Tracking Sheet</div>
                            <div>âœ… Expense Analysis Sheet</div>
                            <div>âœ… Investment Portfolio Sheet</div>
                            <div>âœ… Financial Goals Sheet</div>
                            <div>âœ… Health Ratios Sheet</div>
                            <div>âœ… Budget Allocation Sheet</div>
                            <div>âœ… Financial Tips Sheet</div>
                            <div>âœ… Auto-calculating Formulas</div>
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                        <h4 style="color: #856404; margin-bottom: 10px;">“‚ File Access Options:</h4>
                        <p style="margin-bottom: 15px; color: #333;">The comprehensive Excel file (EA_Aura_Financial_Health.xlsx) contains 7 sheets with:</p>
                        <ul style="color: #333; margin-left: 20px; line-height: 1.6;">
                            <li>Pre-built formulas and calculations</li>
                            <li>Professional formatting and structure</li>
                            <li>Sample data to guide your entries</li>
                            <li>Comprehensive financial wellness tips</li>
                        </ul>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 20px;">
                        <button onclick="downloadExcelCSV(); document.body.removeChild(this.parentElement.parentElement)" 
                                style="background: #28a745; color: white; border: none; padding: 12px 24px; 
                                       border-radius: 25px; font-size: 16px; cursor: pointer; margin-right: 10px;">
                            “Š Download CSV Version
                        </button>
                        <a href="EA_Aura_Financial_Health.xlsx" download 
                           style="background: #007acc; color: white; text-decoration: none; padding: 12px 24px; 
                                  border-radius: 25px; font-size: 16px; display: inline-block;"
                           onclick="document.body.removeChild(this.parentElement.parentElement.parentElement)">
                            “ˆ  Download Excel File
                        </a>
                    </div>
                    
                    <div style="font-size: 0.9rem; color: #666; text-align: center; line-height: 1.5;">
                        ’¡ The Excel file includes advanced formulas, conditional formatting, and professional structure<br>
                        The CSV version works in any spreadsheet program and contains the same comprehensive data
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Award coins for accessing financial planning tools
            addCoins(35, event);
            updateAuraMessage("📄 Excellent! Accessing EA Aura Financial Health resources. Choose between the full Excel file with advanced features or the CSV version compatible with any spreadsheet program!");
        }

        function downloadExcelCSV() {
            // Create the comprehensive Excel-compatible CSV content for fallback
            const excelContent = `EA Aura Financial Health Workbook - Complete Financial Analysis

INCOME SUMMARY,,,,
Income Category,Monthly Amount,Annual Amount,Notes
Base Salary,7500,90000,Primary employment income
Bonus/Incentives,1000,12000,Performance-based rewards
Side Projects,500,6000,Freelance or consulting work
Investment Returns,300,3600,Dividends and interest
Other Income,200,2400,Miscellaneous income sources

EXPENSE BREAKDOWN,,,,
Expense Category,Monthly Amount,Annual Amount,Budget %,Notes
Housing (Rent/EMI),3800,45600,40.0%,Rent or mortgage payments
Utilities & Bills,400,4800,4.2%,Electricity water internet phone
Transportation,600,7200,6.3%,Fuel public transport maintenance
Food & Groceries,1200,14400,12.6%,Daily meals and household items
Healthcare,300,3600,3.2%,Medical insurance checkups
Entertainment,400,4800,4.2%,Movies dining out hobbies

INVESTMENT ALLOCATION,,,,
Investment Type,Monthly Amount,Annual Amount,Risk Level,Expected Return
PPF/EPF,1000,12000,Low,7-8%
Mutual Funds SIP,800,9600,Medium,10-12%
Stocks/Equity,400,4800,High,12-15%
Fixed Deposits,200,2400,Low,5-6%

FINANCIAL GOALS TRACKING,,,,
Financial Goal,Target Amount,Time Frame,Monthly Required,Progress
Emergency Fund,50000,12 months,4167,25%
Home Down Payment,500000,60 months,8333,10%
Retirement Corpus,5000000,360 months,2778,5%

BUDGET ALLOCATION (50/20/20/10 RULE),,,,
Category,Recommended %,Recommended Amount,Current Amount,Variance
Needs (Essential),50%,4750,5400,-650
Wants (Lifestyle),20%,1900,1400,500
Savings,20%,1900,1500,400
Investments,10%,950,1200,-250

Generated by EA Aura Wellness Hub - Financial Health Module`;

            // Create and download the CSV file
            downloadFile(excelContent, 'EA_Aura_Financial_Health_Backup.csv', 'text/csv');
            updateAuraMessage("📊 CSV version downloaded successfully! This backup version contains all the essential financial data and can be opened in any spreadsheet application.");
        }

        // Update progress bars based on input values
        function updateProgressBars() {
            const steps = parseInt(document.getElementById('todaySteps').value) || 0;
            const sleep = parseFloat(document.getElementById('todaySleep').value) || 0;
            const mood = parseInt(document.getElementById('todayMood').value) || 0;
            const focus = parseInt(document.getElementById('todayFocus').value) || 0;

            document.getElementById('stepsProgress').style.width = Math.min(100, (steps / 10000) * 100) + '%';
            document.getElementById('sleepProgress').style.width = Math.min(100, (sleep / 9) * 100) + '%';
            document.getElementById('moodProgress').style.width = (mood / 10) * 100 + '%';
            document.getElementById('focusProgress').style.width = Math.min(100, (focus / 200) * 100) + '%';
        }

        // Initialize daily quote
        function setDailyQuote() {
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
            const quoteIndex = dayOfYear % dailyQuotes.length;
            document.getElementById('dailyQuote').textContent = '"' + dailyQuotes[quoteIndex] + '"';
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Setup metric input listeners
            document.querySelectorAll('.metric-value').forEach(input => {
                input.addEventListener('input', updateProgressBars);
                input.addEventListener('blur', updateProgressBars);
            });

            // Initial progress bar update
            updateProgressBars();

            // Set daily quote
            setDailyQuote();

            // Welcome message from genie
            setTimeout(() => {
                updateGenieMessage("🌟 Welcome to EA Aura Enhanced! I've been trained on comprehensive wellness coaching principles. Click any metric to earn coins and improve your wellness!");
            }, 2000);
        });
    </script>
</body>
</html>